# ProxyMaster æ€§èƒ½æŠ¥å‘ŠåŠŸèƒ½å¼€å‘è®¡åˆ’

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

ProxyMaster æ€§èƒ½æŠ¥å‘ŠåŠŸèƒ½æ—¨åœ¨ä¸ºç”¨æˆ·æä¾›è¯¦ç»†çš„ä»£ç†ä½¿ç”¨ç»Ÿè®¡å’Œæ€§èƒ½åˆ†æï¼Œå¸®åŠ©ç”¨æˆ·äº†è§£ä»£ç†çš„ä½¿ç”¨æƒ…å†µã€ä¼˜åŒ–é…ç½®é€‰æ‹©ï¼Œå¹¶ç›‘æ§ç½‘ç»œæ€§èƒ½ã€‚

## ğŸ¯ åŠŸèƒ½ç›®æ ‡

### æ ¸å¿ƒç›®æ ‡
- **æ•°æ®æ”¶é›†**ï¼šè‡ªåŠ¨æ”¶é›†ä»£ç†ä½¿ç”¨æ•°æ®ã€å“åº”æ—¶é—´ã€æˆåŠŸç‡ç­‰å…³é”®æŒ‡æ ‡
- **å¯è§†åŒ–å±•ç¤º**ï¼šé€šè¿‡å›¾è¡¨ç›´è§‚å±•ç¤ºæ€§èƒ½æ•°æ®å’Œä½¿ç”¨è¶‹åŠ¿
- **æ€§èƒ½åˆ†æ**ï¼šæä¾›æ·±åº¦åˆ†ææŠ¥å‘Šï¼Œå¸®åŠ©ç”¨æˆ·ä¼˜åŒ–ä»£ç†é…ç½®
- **æ•°æ®å¯¼å‡º**ï¼šæ”¯æŒæ•°æ®å¯¼å‡ºï¼Œä¾¿äºè¿›ä¸€æ­¥åˆ†æ

### ç”¨æˆ·ä»·å€¼
- äº†è§£å“ªäº›ä»£ç†é…ç½®æ€§èƒ½æœ€ä½³
- å‘ç°ç½‘ç»œè®¿é—®æ¨¡å¼å’Œé«˜å³°æ—¶æ®µ
- ç›‘æ§ä»£ç†ç¨³å®šæ€§å’Œå¯ç”¨æ€§
- ä¼˜åŒ–ä»£ç†åˆ‡æ¢ç­–ç•¥

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ¨¡å—è®¾è®¡
```
ProxyMaster Performance System
â”œâ”€â”€ æ•°æ®æ”¶é›†å±‚ (performance-monitor.js)
â”‚   â”œâ”€â”€ è¯·æ±‚ç›‘æ§
â”‚   â”œâ”€â”€ ä»£ç†åˆ‡æ¢è®°å½•
â”‚   â”œâ”€â”€ è¿æ¥æµ‹è¯•ç»Ÿè®¡
â”‚   â””â”€â”€ é”™è¯¯æ—¥å¿—æ”¶é›†
â”œâ”€â”€ æ•°æ®å­˜å‚¨å±‚ (Chrome Storage API)
â”‚   â”œâ”€â”€ æœ¬åœ°å­˜å‚¨ (chrome.storage.local)
â”‚   â”œâ”€â”€ æ•°æ®åˆ†ç‰‡ç®¡ç†
â”‚   â”œâ”€â”€ è‡ªåŠ¨æ¸…ç†æœºåˆ¶
â”‚   â””â”€â”€ æ•°æ®å‹ç¼©ä¼˜åŒ–
â”œâ”€â”€ æ•°æ®åˆ†æå±‚ (performance-monitor.js)
â”‚   â”œâ”€â”€ ç»Ÿè®¡è®¡ç®—å¼•æ“
â”‚   â”œâ”€â”€ è¶‹åŠ¿åˆ†æç®—æ³•
â”‚   â”œâ”€â”€ æ€§èƒ½è¯„åˆ†ç³»ç»Ÿ
â”‚   â””â”€â”€ å¼‚å¸¸æ£€æµ‹æœºåˆ¶
â””â”€â”€ å¯è§†åŒ–å±‚ (performance-charts.js + options.html)
    â”œâ”€â”€ Canvas å›¾è¡¨æ¸²æŸ“
    â”œâ”€â”€ äº¤äº’å¼ç•Œé¢
    â”œâ”€â”€ å®æ—¶æ•°æ®æ›´æ–°
    â””â”€â”€ å“åº”å¼è®¾è®¡
```

## ğŸ“Š æ•°æ®æ¨¡å‹

### æ•°æ®ç±»å‹å®šä¹‰
```javascript
// è¯·æ±‚è®°å½•
RequestRecord {
  id: string,
  timestamp: number,
  type: 'request',
  url: string,
  domain: string,
  proxy: string,
  method: string,
  responseTime: number,
  success: boolean,
  errorCode?: string,
  errorMessage?: string,
  userAgent: string,
  tabId: number
}

// ä»£ç†åˆ‡æ¢è®°å½•
ProxySwitchRecord {
  id: string,
  timestamp: number,
  type: 'proxy_switch',
  fromProxy: string,
  toProxy: string,
  reason: 'manual' | 'auto' | 'rule',
  tabId?: number,
  url?: string,
  domain?: string,
  switchTime: number
}

// è¿æ¥æµ‹è¯•è®°å½•
ConnectionTestRecord {
  id: string,
  timestamp: number,
  type: 'connection_test',
  proxy: string,
  testUrl: string,
  responseTime: number,
  success: boolean,
  errorCode?: string,
  errorMessage?: string
}
```

### å­˜å‚¨ç­–ç•¥
- **åˆ†æ—¥å­˜å‚¨**ï¼šæŒ‰æ—¥æœŸåˆ†ç‰‡å­˜å‚¨ï¼Œé”®åæ ¼å¼ï¼š`performance_data_YYYY-MM-DD`
- **æ•°æ®ä¿ç•™**ï¼šé»˜è®¤ä¿ç•™30å¤©æ•°æ®ï¼Œè‡ªåŠ¨æ¸…ç†è¿‡æœŸæ•°æ®
- **å­˜å‚¨é™åˆ¶**ï¼šå•ä¸ªåˆ†ç‰‡æœ€å¤§5MBï¼Œè¶…å‡ºæ—¶è¿›è¡Œæ•°æ®å‹ç¼©
- **ç¼“å†²æœºåˆ¶**ï¼šå†…å­˜ç¼“å†²1000æ¡è®°å½•ï¼Œå®šæœŸæ‰¹é‡å†™å…¥å­˜å‚¨

## ğŸ“ˆ å›¾è¡¨ç³»ç»Ÿ

### å›¾è¡¨ç±»å‹
1. **å“åº”æ—¶é—´è¶‹åŠ¿å›¾** (æŠ˜çº¿å›¾)
   - Xè½´ï¼šæ—¶é—´
   - Yè½´ï¼šå¹³å‡å“åº”æ—¶é—´(ms)
   - æ•°æ®æºï¼šæ¯æ—¥å¹³å‡å“åº”æ—¶é—´

2. **ä»£ç†ä½¿ç”¨åˆ†å¸ƒå›¾** (é¥¼å›¾)
   - æ˜¾ç¤ºå„ä»£ç†é…ç½®çš„ä½¿ç”¨å æ¯”
   - æ•°æ®æºï¼šè¯·æ±‚æ•°é‡ç»Ÿè®¡

3. **è¯·æ±‚é‡ç»Ÿè®¡å›¾** (æŸ±çŠ¶å›¾)
   - æˆåŠŸè¯·æ±‚ vs å¤±è´¥è¯·æ±‚
   - æŒ‰æ—¥æœŸåˆ†ç»„æ˜¾ç¤º

4. **24å°æ—¶è®¿é—®çƒ­åŠ›å›¾** (çƒ­åŠ›å›¾)
   - æ˜¾ç¤ºä¸€å¤©ä¸­å„æ—¶æ®µçš„è®¿é—®å¯†åº¦
   - é¢œè‰²æ·±æµ…è¡¨ç¤ºè®¿é—®é‡å¤§å°

5. **çƒ­é—¨ç½‘ç«™æ’è¡Œ** (æ°´å¹³æŸ±çŠ¶å›¾)
   - æ˜¾ç¤ºè®¿é—®æ¬¡æ•°æœ€å¤šçš„å‰10ä¸ªç½‘ç«™
   - æ•°æ®æºï¼šåŸŸåè®¿é—®ç»Ÿè®¡

### å›¾è¡¨ç‰¹æ€§
- **çº¯Canvasæ¸²æŸ“**ï¼šæ— ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œè½»é‡é«˜æ•ˆ
- **å“åº”å¼è®¾è®¡**ï¼šè‡ªé€‚åº”å®¹å™¨å¤§å°
- **äº¤äº’åŠŸèƒ½**ï¼šé¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- **åŠ¨ç”»æ•ˆæœ**ï¼šå¹³æ»‘çš„æ•°æ®æ›´æ–°åŠ¨ç”»
- **ä¸»é¢˜ä¸€è‡´**ï¼šä¸æ‰©å±•æ•´ä½“è®¾è®¡é£æ ¼ä¿æŒä¸€è‡´

## ğŸš€ å¼€å‘é˜¶æ®µ

### é˜¶æ®µä¸€ï¼šåŸºç¡€æ•°æ®æ”¶é›† (å·²å®Œæˆ)
**æ—¶é—´**ï¼š1-2å‘¨
**çŠ¶æ€**ï¼šâœ… å®Œæˆ

**å®Œæˆå†…å®¹**ï¼š
- âœ… åˆ›å»º `PerformanceMonitor` ç±»
- âœ… å®ç°æ•°æ®æ”¶é›†æ¥å£
- âœ… è®¾è®¡æ•°æ®å­˜å‚¨ç»“æ„
- âœ… å®ç°ç¼“å†²å’Œæ‰¹é‡å†™å…¥æœºåˆ¶
- âœ… æ·»åŠ æ•°æ®æ¸…ç†åŠŸèƒ½

**æŠ€æœ¯å®ç°**ï¼š
- äº‹ä»¶é©±åŠ¨çš„æ•°æ®æ”¶é›†
- å†…å­˜ç¼“å†²ä¼˜åŒ–
- å¼‚æ­¥å­˜å‚¨æ“ä½œ
- é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

### é˜¶æ®µäºŒï¼šå›¾è¡¨å¯è§†åŒ–ç³»ç»Ÿ (å·²å®Œæˆ)
**æ—¶é—´**ï¼š2-3å‘¨
**çŠ¶æ€**ï¼šâœ… å®Œæˆ

**å®Œæˆå†…å®¹**ï¼š
- âœ… åˆ›å»º `PerformanceCharts` ç±»
- âœ… å®ç°5ç§æ ¸å¿ƒå›¾è¡¨ç±»å‹
- âœ… Canvasç»˜å›¾å¼•æ“
- âœ… å“åº”å¼å¸ƒå±€ç³»ç»Ÿ
- âœ… å›¾è¡¨äº¤äº’åŠŸèƒ½

**æŠ€æœ¯ç‰¹ç‚¹**ï¼š
- çº¯Canvaså®ç°ï¼Œæ— å¤–éƒ¨ä¾èµ–
- æ¨¡å—åŒ–å›¾è¡¨ç»„ä»¶
- ç»Ÿä¸€çš„é¢œè‰²ä¸»é¢˜
- é«˜æ€§èƒ½æ¸²æŸ“

### é˜¶æ®µä¸‰ï¼šç”¨æˆ·ç•Œé¢é›†æˆ (å·²å®Œæˆ)
**æ—¶é—´**ï¼š1å‘¨
**çŠ¶æ€**ï¼šâœ… å®Œæˆ

**å®Œæˆå†…å®¹**ï¼š
- âœ… æ›´æ–° `options.html` ç»Ÿè®¡åˆ†æé¡µé¢
- âœ… é›†æˆå›¾è¡¨å®¹å™¨å’Œæ§åˆ¶ç»„ä»¶
- âœ… æ·»åŠ æ—¶é—´èŒƒå›´é€‰æ‹©å™¨
- âœ… å®ç°æ•°æ®åˆ·æ–°å’Œå¯¼å‡ºåŠŸèƒ½
- âœ… æ€§èƒ½ç›‘æ§çŠ¶æ€ç®¡ç†

**ç•Œé¢ç‰¹æ€§**ï¼š
- ç›´è§‚çš„ç»Ÿè®¡å¡ç‰‡å±•ç¤º
- çµæ´»çš„æ—¶é—´èŒƒå›´ç­›é€‰
- ä¸€é”®å¯ç”¨æ€§èƒ½ç›‘æ§
- æ•°æ®å¯¼å‡ºåŠŸèƒ½

### é˜¶æ®µå››ï¼šæ•°æ®åˆ†æå¼•æ“ (è®¡åˆ’ä¸­)
**æ—¶é—´**ï¼š2-3å‘¨
**çŠ¶æ€**ï¼šğŸ”„ è®¡åˆ’ä¸­

**è®¡åˆ’å†…å®¹**ï¼š
- ğŸ“‹ å®ç°é«˜çº§ç»Ÿè®¡ç®—æ³•
- ğŸ“‹ æ·»åŠ æ€§èƒ½è¯„åˆ†ç³»ç»Ÿ
- ğŸ“‹ å¼€å‘å¼‚å¸¸æ£€æµ‹æœºåˆ¶
- ğŸ“‹ åˆ›å»ºæ™ºèƒ½æ¨èç³»ç»Ÿ

**æŠ€æœ¯æ–¹æ¡ˆ**ï¼š
```javascript
// æ€§èƒ½è¯„åˆ†ç®—æ³•
class PerformanceScorer {
  calculateProxyScore(proxy) {
    const weights = {
      responseTime: 0.4,    // å“åº”æ—¶é—´æƒé‡
      successRate: 0.3,     // æˆåŠŸç‡æƒé‡
      stability: 0.2,       // ç¨³å®šæ€§æƒé‡
      availability: 0.1     // å¯ç”¨æ€§æƒé‡
    };
    
    return this.weightedScore(metrics, weights);
  }
}

// å¼‚å¸¸æ£€æµ‹
class AnomalyDetector {
  detectResponseTimeAnomaly(data) {
    // ä½¿ç”¨ç§»åŠ¨å¹³å‡å’Œæ ‡å‡†å·®æ£€æµ‹å¼‚å¸¸
    const threshold = mean + 2 * standardDeviation;
    return data.filter(point => point.value > threshold);
  }
}
```

### é˜¶æ®µäº”ï¼šæ™ºèƒ½æ¨èç³»ç»Ÿ (è®¡åˆ’ä¸­)
**æ—¶é—´**ï¼š2å‘¨
**çŠ¶æ€**ï¼šğŸ”„ è®¡åˆ’ä¸­

**è®¡åˆ’å†…å®¹**ï¼š
- ğŸ“‹ åŸºäºä½¿ç”¨æ¨¡å¼çš„ä»£ç†æ¨è
- ğŸ“‹ è‡ªåŠ¨åˆ‡æ¢è§„åˆ™ä¼˜åŒ–å»ºè®®
- ğŸ“‹ æ€§èƒ½é—®é¢˜è¯Šæ–­å’Œè§£å†³æ–¹æ¡ˆ
- ğŸ“‹ ä¸ªæ€§åŒ–é…ç½®å»ºè®®

**æ¨èç®—æ³•**ï¼š
```javascript
class SmartRecommendation {
  // åŸºäºæ—¶é—´æ¨¡å¼æ¨è
  recommendByTimePattern(userStats) {
    const patterns = this.analyzeTimePatterns(userStats);
    return this.generateTimeBasedRules(patterns);
  }
  
  // åŸºäºç½‘ç«™ç±»å‹æ¨è
  recommendByDomainCategory(domainStats) {
    const categories = this.categorizeDomains(domainStats);
    return this.generateCategoryRules(categories);
  }
}
```

### é˜¶æ®µå…­ï¼šé«˜çº§åŠŸèƒ½æ‰©å±• (è®¡åˆ’ä¸­)
**æ—¶é—´**ï¼š3-4å‘¨
**çŠ¶æ€**ï¼šğŸ”„ è®¡åˆ’ä¸­

**è®¡åˆ’å†…å®¹**ï¼š
- ğŸ“‹ å®æ—¶æ€§èƒ½ç›‘æ§é¢æ¿
- ğŸ“‹ æ€§èƒ½æŠ¥å‘Šè‡ªåŠ¨ç”Ÿæˆ
- ğŸ“‹ æ•°æ®å¯¹æ¯”åˆ†æåŠŸèƒ½
- ğŸ“‹ æ€§èƒ½é¢„è­¦ç³»ç»Ÿ

**æŠ€æœ¯ç‰¹æ€§**ï¼š
- WebSocketå®æ—¶æ•°æ®æ¨é€
- PDFæŠ¥å‘Šç”Ÿæˆ
- å¤šç»´åº¦æ•°æ®å¯¹æ¯”
- æ™ºèƒ½é¢„è­¦é˜ˆå€¼

## ğŸ”§ é›†æˆæ–¹æ¡ˆ

### ä¸ç°æœ‰ç³»ç»Ÿé›†æˆ
1. **ä»£ç†ç®¡ç†å™¨é›†æˆ**
   ```javascript
   // åœ¨ä»£ç†åˆ‡æ¢æ—¶è®°å½•æ€§èƒ½æ•°æ®
   async switchProfile(profileName) {
     const startTime = Date.now();
     await this.applyProxySettings(profileName);
     const switchTime = Date.now() - startTime;
     
     // è®°å½•åˆ‡æ¢æ€§èƒ½
     this.performanceMonitor?.recordProxySwitch({
       fromProxy: this.currentProfile,
       toProxy: profileName,
       reason: 'manual',
       switchTime: switchTime
     });
   }
   ```

2. **è¯·æ±‚æ‹¦æˆªå™¨é›†æˆ**
   ```javascript
   // åœ¨webRequestç›‘å¬å™¨ä¸­è®°å½•è¯·æ±‚æ•°æ®
   chrome.webRequest.onCompleted.addListener((details) => {
     this.performanceMonitor?.recordRequest({
       url: details.url,
       method: details.method,
       responseTime: details.timeStamp - details.requestTime,
       success: details.statusCode < 400,
       tabId: details.tabId
     });
   });
   ```

3. **è‡ªåŠ¨åˆ‡æ¢è§„åˆ™é›†æˆ**
   ```javascript
   // åœ¨è§„åˆ™è§¦å‘æ—¶è®°å½•åˆ‡æ¢åŸå› 
   async applyAutoSwitchRule(rule, url) {
     const result = await this.switchToProfile(rule.profile);
     
     this.performanceMonitor?.recordProxySwitch({
       fromProxy: this.currentProfile,
       toProxy: rule.profile,
       reason: 'rule',
       url: url,
       ruleName: rule.name
     });
   }
   ```

## ğŸ“± ç”¨æˆ·ä½“éªŒè®¾è®¡

### ç•Œé¢å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š æ€§èƒ½æŠ¥å‘Š                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æœ€è¿‘7å¤© â–¼] [ğŸ”„ åˆ·æ–°] [ğŸ“Š å¯¼å‡ºæ•°æ®]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ˆ å“åº”æ—¶é—´è¶‹åŠ¿                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚     Canvas æŠ˜çº¿å›¾                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¥§ ä»£ç†ä½¿ç”¨åˆ†å¸ƒ    â”‚ ğŸ“Š è¯·æ±‚é‡ç»Ÿè®¡      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  Canvas é¥¼å›¾    â”‚â”‚  Canvas æŸ±çŠ¶å›¾  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”¥ 24å°æ—¶è®¿é—®åˆ†å¸ƒ                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚     Canvas çƒ­åŠ›å›¾                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ† çƒ­é—¨ç½‘ç«™æ’è¡Œ                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   Canvas æ°´å¹³æŸ±çŠ¶å›¾                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### äº¤äº’è®¾è®¡
- **æ¸è¿›å¼åŠ è½½**ï¼šå…ˆæ˜¾ç¤ºç»Ÿè®¡å¡ç‰‡ï¼Œå†é€æ­¥åŠ è½½å›¾è¡¨
- **ç©ºçŠ¶æ€å¤„ç†**ï¼šæœªå¯ç”¨ç›‘æ§æ—¶æ˜¾ç¤ºå¼•å¯¼ä¿¡æ¯
- **åŠ è½½çŠ¶æ€**ï¼šæ•°æ®åŠ è½½æ—¶æ˜¾ç¤ºè¿›åº¦æŒ‡ç¤ºå™¨
- **é”™è¯¯å¤„ç†**ï¼šç½‘ç»œé”™è¯¯æ—¶æ˜¾ç¤ºé‡è¯•é€‰é¡¹
- **å“åº”å¼é€‚é…**ï¼šæ”¯æŒä¸åŒå±å¹•å°ºå¯¸

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•
```javascript
// æ€§èƒ½ç›‘æ§å™¨æµ‹è¯•
describe('PerformanceMonitor', () => {
  test('should record request data correctly', () => {
    const monitor = new PerformanceMonitor();
    const requestData = {
      url: 'https://example.com',
      responseTime: 150,
      success: true
    };
    
    monitor.recordRequest(requestData);
    expect(monitor.dataBuffer).toHaveLength(1);
    expect(monitor.dataBuffer[0].domain).toBe('example.com');
  });
});

// å›¾è¡¨æ¸²æŸ“æµ‹è¯•
describe('PerformanceCharts', () => {
  test('should render line chart correctly', () => {
    const charts = new PerformanceCharts();
    const canvas = document.createElement('canvas');
    const data = { timeline: { '2024-01-01': { requests: 100 } } };
    
    charts.createResponseTimeChart(canvas, data);
    expect(canvas.getContext('2d')).toBeDefined();
  });
});
```

### é›†æˆæµ‹è¯•
- æ•°æ®æ”¶é›†æµç¨‹æµ‹è¯•
- å­˜å‚¨å’Œæ£€ç´¢åŠŸèƒ½æµ‹è¯•
- å›¾è¡¨æ¸²æŸ“æ€§èƒ½æµ‹è¯•
- ç”¨æˆ·ç•Œé¢äº¤äº’æµ‹è¯•

### æ€§èƒ½æµ‹è¯•
- å¤§æ•°æ®é‡å¤„ç†èƒ½åŠ›æµ‹è¯•
- å†…å­˜ä½¿ç”¨ä¼˜åŒ–æµ‹è¯•
- æ¸²æŸ“æ€§èƒ½åŸºå‡†æµ‹è¯•
- å­˜å‚¨ç©ºé—´ä½¿ç”¨æµ‹è¯•

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ•°æ®å¤„ç†ä¼˜åŒ–
```javascript
// æ•°æ®èšåˆä¼˜åŒ–
class DataAggregator {
  // ä½¿ç”¨Mapæé«˜æŸ¥æ‰¾æ€§èƒ½
  aggregateByDomain(records) {
    const domainMap = new Map();
    
    for (const record of records) {
      const domain = record.domain;
      const existing = domainMap.get(domain) || { count: 0, totalTime: 0 };
      
      existing.count++;
      existing.totalTime += record.responseTime;
      domainMap.set(domain, existing);
    }
    
    return domainMap;
  }
  
  // æ—¶é—´çª—å£èšåˆ
  aggregateByTimeWindow(records, windowSize = 3600000) { // 1å°æ—¶
    const windows = new Map();
    
    for (const record of records) {
      const windowStart = Math.floor(record.timestamp / windowSize) * windowSize;
      const window = windows.get(windowStart) || { requests: 0, errors: 0 };
      
      window.requests++;
      if (!record.success) window.errors++;
      windows.set(windowStart, window);
    }
    
    return windows;
  }
}
```

### æ¸²æŸ“ä¼˜åŒ–
```javascript
// Canvasæ¸²æŸ“ä¼˜åŒ–
class OptimizedRenderer {
  // ä½¿ç”¨ç¦»å±Canvasæé«˜æ€§èƒ½
  createOffscreenChart(width, height) {
    const offscreen = new OffscreenCanvas(width, height);
    const ctx = offscreen.getContext('2d');
    
    // å¯ç”¨ç¡¬ä»¶åŠ é€Ÿ
    ctx.imageSmoothingEnabled = true;
    ctx.imageSmoothingQuality = 'high';
    
    return { canvas: offscreen, context: ctx };
  }
  
  // æ‰¹é‡ç»˜åˆ¶ä¼˜åŒ–
  batchDrawOperations(ctx, operations) {
    ctx.save();
    
    // æ‰¹é‡æ‰§è¡Œç»˜åˆ¶æ“ä½œ
    for (const operation of operations) {
      operation(ctx);
    }
    
    ctx.restore();
  }
}
```

## ğŸ”’ éšç§å’Œå®‰å…¨

### æ•°æ®éšç§ä¿æŠ¤
- **æœ¬åœ°å­˜å‚¨**ï¼šæ‰€æœ‰æ•°æ®ä»…å­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°ï¼Œä¸ä¸Šä¼ åˆ°æœåŠ¡å™¨
- **æ•°æ®è„±æ•**ï¼šURLå’ŒåŸŸåè¿›è¡Œå“ˆå¸Œå¤„ç†ï¼Œä¿æŠ¤ç”¨æˆ·éšç§
- **ç”¨æˆ·æ§åˆ¶**ï¼šç”¨æˆ·å¯éšæ—¶æ¸…é™¤æ‰€æœ‰æ€§èƒ½æ•°æ®
- **é€æ˜åº¦**ï¼šæ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·æ”¶é›†çš„æ•°æ®ç±»å‹å’Œç”¨é€”

### å®‰å…¨æªæ–½
```javascript
// æ•°æ®è„±æ•å¤„ç†
class PrivacyProtector {
  // URLå“ˆå¸ŒåŒ–
  hashUrl(url) {
    const urlObj = new URL(url);
    const sensitiveUrl = `${urlObj.protocol}//${urlObj.hostname}${urlObj.pathname}`;
    return this.simpleHash(sensitiveUrl);
  }
  
  // ç®€å•å“ˆå¸Œå‡½æ•°
  simpleHash(str) {
    let hash = 0;
    for (let i = 0; i < str.length; i++) {
      const char = str.charCodeAt(i);
      hash = ((hash << 5) - hash) + char;
      hash = hash & hash; // è½¬æ¢ä¸º32ä½æ•´æ•°
    }
    return hash.toString(36);
  }
}
```

## ğŸ“š æ–‡æ¡£å’Œæ”¯æŒ

### ç”¨æˆ·æ–‡æ¡£
- **åŠŸèƒ½ä»‹ç»**ï¼šæ€§èƒ½æŠ¥å‘ŠåŠŸèƒ½çš„ä½œç”¨å’Œä»·å€¼
- **ä½¿ç”¨æŒ‡å—**ï¼šå¦‚ä½•å¯ç”¨å’Œä½¿ç”¨æ€§èƒ½ç›‘æ§
- **å›¾è¡¨è§£è¯»**ï¼šå„ç§å›¾è¡¨çš„å«ä¹‰å’Œåˆ†ææ–¹æ³•
- **æ•…éšœæ’é™¤**ï¼šå¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### å¼€å‘æ–‡æ¡£
- **APIå‚è€ƒ**ï¼šæ‰€æœ‰ç±»å’Œæ–¹æ³•çš„è¯¦ç»†è¯´æ˜
- **æ¶æ„è®¾è®¡**ï¼šç³»ç»Ÿæ¶æ„å’Œæ¨¡å—å…³ç³»
- **æ‰©å±•æŒ‡å—**ï¼šå¦‚ä½•æ·»åŠ æ–°çš„å›¾è¡¨ç±»å‹
- **æ€§èƒ½è°ƒä¼˜**ï¼šä¼˜åŒ–å»ºè®®å’Œæœ€ä½³å®è·µ

## ğŸš€ éƒ¨ç½²å’Œå‘å¸ƒ

### å‘å¸ƒè®¡åˆ’
1. **Betaç‰ˆæœ¬**ï¼šå†…éƒ¨æµ‹è¯•ï¼Œæ”¶é›†åé¦ˆ
2. **RCç‰ˆæœ¬**ï¼šå…¬å¼€æµ‹è¯•ï¼Œä¿®å¤é—®é¢˜
3. **æ­£å¼ç‰ˆæœ¬**ï¼šç¨³å®šå‘å¸ƒï¼ŒæŒç»­ç»´æŠ¤

### ç‰ˆæœ¬ç®¡ç†
```
v1.0.0 - åŸºç¡€æ€§èƒ½ç›‘æ§
â”œâ”€â”€ æ•°æ®æ”¶é›†åŠŸèƒ½
â”œâ”€â”€ åŸºç¡€å›¾è¡¨å±•ç¤º
â””â”€â”€ ç”¨æˆ·ç•Œé¢é›†æˆ

v1.1.0 - é«˜çº§åˆ†æåŠŸèƒ½
â”œâ”€â”€ æ€§èƒ½è¯„åˆ†ç³»ç»Ÿ
â”œâ”€â”€ å¼‚å¸¸æ£€æµ‹æœºåˆ¶
â””â”€â”€ æ™ºèƒ½æ¨èåŠŸèƒ½

v1.2.0 - ä¼ä¸šçº§åŠŸèƒ½
â”œâ”€â”€ æŠ¥å‘Šç”Ÿæˆç³»ç»Ÿ
â”œâ”€â”€ æ•°æ®å¯¼å‡ºå¢å¼º
â””â”€â”€ æ€§èƒ½é¢„è­¦åŠŸèƒ½
```

## ğŸ¯ æˆåŠŸæŒ‡æ ‡

### æŠ€æœ¯æŒ‡æ ‡
- **æ€§èƒ½**ï¼šå›¾è¡¨æ¸²æŸ“æ—¶é—´ < 100ms
- **å­˜å‚¨**ï¼šæ•°æ®å‹ç¼©ç‡ > 60%
- **ç¨³å®šæ€§**ï¼šé”™è¯¯ç‡ < 0.1%
- **å…¼å®¹æ€§**ï¼šæ”¯æŒChrome 88+

### ç”¨æˆ·æŒ‡æ ‡
- **é‡‡ç”¨ç‡**ï¼š30%çš„ç”¨æˆ·å¯ç”¨æ€§èƒ½ç›‘æ§
- **ä½¿ç”¨é¢‘ç‡**ï¼šå¹³å‡æ¯å‘¨æŸ¥çœ‹2æ¬¡æ€§èƒ½æŠ¥å‘Š
- **æ»¡æ„åº¦**ï¼šç”¨æˆ·è¯„åˆ† > 4.5/5.0
- **åé¦ˆè´¨é‡**ï¼šæ”¶åˆ°æœ‰ä»·å€¼çš„æ”¹è¿›å»ºè®®

## ğŸ”® æœªæ¥è§„åˆ’

### é•¿æœŸæ„¿æ™¯
- **AIé©±åŠ¨åˆ†æ**ï¼šä½¿ç”¨æœºå™¨å­¦ä¹ ä¼˜åŒ–ä»£ç†é€‰æ‹©
- **äº‘ç«¯åŒæ­¥**ï¼šå¯é€‰çš„äº‘ç«¯æ•°æ®åŒæ­¥åŠŸèƒ½
- **å›¢é˜Ÿåä½œ**ï¼šä¼ä¸šç‰ˆå›¢é˜Ÿæ€§èƒ½åˆ†æ
- **ç§»åŠ¨ç«¯æ”¯æŒ**ï¼šç§»åŠ¨è®¾å¤‡æ€§èƒ½ç›‘æ§

### æŠ€æœ¯æ¼”è¿›
- **WebAssembly**ï¼šä½¿ç”¨WASMæå‡è®¡ç®—æ€§èƒ½
- **WebGL**ï¼š3Då¯è§†åŒ–å’Œå¤æ‚å›¾è¡¨
- **Service Worker**ï¼šç¦»çº¿æ•°æ®å¤„ç†èƒ½åŠ›
- **WebRTC**ï¼šå®æ—¶æ€§èƒ½æ•°æ®ä¼ è¾“

---

## ğŸ“ è”ç³»ä¿¡æ¯

**é¡¹ç›®è´Ÿè´£äºº**ï¼šProxyMasterå¼€å‘å›¢é˜Ÿ  
**æŠ€æœ¯æ”¯æŒ**ï¼šé€šè¿‡GitHub Issuesæäº¤é—®é¢˜  
**æ–‡æ¡£æ›´æ–°**ï¼šæœ¬æ–‡æ¡£å°†éšå¼€å‘è¿›åº¦æŒç»­æ›´æ–°

---

*æœ€åæ›´æ–°ï¼š2024å¹´12æœˆ* 